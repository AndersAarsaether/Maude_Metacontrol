mod TEST is
  ***protecting CONTROLLERS .
  protecting PHYSICS .

  op getTemp : Configuration -> Temperature .
  op getTime : Configuration -> Time .

  vars T C : Oid .
  var DG : Temperature .
  var TI : Time .
  vars RA1 RA2 : RuleApplied .
  var HS : HeaterStatus .
  var WS : WindowStatus .
  vars INIT CON : Configuration .
  vars ET ET1 ET2 : Effect .

  eq getTemp(< T :Thermometer | Degrees: DG > CON) = DG .
  eq getTime(< C :Clock | Time: TI > CON) = TI .

  op init : -> Configuration .
  eq init = < "homeHeater" :Heater | Status: hOff, RuleApplied: no, EffectsTemp: 0.2, Active: yes >
            < "homeThermometer" :Thermometer | Degrees: 22.1 >
            < "homeClock" :Clock | Time: 0 > .

  op init3 : -> Configuration .
  eq init3 = < "homeHeater" :Heater | Status: hOff, RuleApplied: no, EffectsTemp: 0.2, Active: yes >
            < "homeWaterheater" :Waterheater | Status: whVeryhot, RuleApplied: no, EffectsTemp: 0.1, Active: yes >
            < "homeWindow" :Window | Status: closed, RuleApplied: no, EffectsTemp: -0.2 >
            < "homeThermometer" :Thermometer | Degrees: 22.1 >
            < "homeClock" :Clock | Time: 0 > .

  op init4 : -> Configuration .
  eq init4 = < "homeWaterheater" :Waterheater | Status: whFairlyhot, RuleApplied: no, EffectsTemp: 0.1, Active: no > .





endm
eof

op init: -> Configuration .
eq init = < "homeHeater" :Heater | Status: hOff, RuleApplied: no, EffectsTemp: 0.2, Active: yes >
          < "homeWindow" :Window | Status: open, RuleApplied: no, EffectsTemp: -0.2 >
          < "homeThermometer" :Thermometer | Degrees: 22.1 >
          < "homeClock" :Clock | Time: 0 > .

op init2 : -> Configuration .
eq init2 = < "heterPreferingController" :Controller1 | Selected: yes >
            < "windowPreferingController" :Controller2 | Selected: no >
<<<<<<< HEAD
            < "homeHeater" :Heater | Status: hVeryhot, RuleApplied: no, EffectsTemp: 0.2 >
            < "homeWindow" :Window | Status: closed, RuleApplied: no, EffectsTemp: - 0.2 >
=======
            < "homeHeater" :Heater | Status: veryhot, RuleApplied: no, EffectsTemp: 0.2 >
            < "homeWindow" :Window | Status: closed, RuleApplied: no, EffectsTemp: -0.2 >
>>>>>>> 5b54c3b713fe92b183010abe4c6b3f4e4cbacaf6
            < "homeThermometer" :Thermometer | Degrees: 22.1 >
            < "homeClock" :Clock | Time: 0 > .

search [1] init =>* INIT:Configuration such that getTemp(INIT) <= 0.0 .

<<<<<<< HEAD
search [1] init2 =>* INIT:Configuration such that getTemp(INIT) <= 17.0 .


search [1] init =>* INIT:Configuration such that getTime(INIT) == 10 .

search [1] init2 =>* INIT:Configuration such that getTime(INIT) == 10 .


search [1] init2
=======
search [1] < "heterPreferingController" :Controller1 | Selected: yes >
            < "windowPreferingController" :Controller2 | Selected: no >
            < "homeHeater" :Heater | Status: veryhot, RuleApplied: no, EffectsTemp: 0.2 >
            < "homeWindow" :Window | Status: closed, RuleApplied: no, EffectsTemp: -0.2 >
            < "homeThermometer" :Thermometer | Degrees: 22.1 >
            < "homeClock" :Clock | Time: 0 >
>>>>>>> 5b54c3b713fe92b183010abe4c6b3f4e4cbacaf6
           =>*
           < "heterPreferingController" :Controller1 | Selected: yes >
           < "windowPreferingController" :Controller2 | Selected: no >
           < "homeHeater" :Heater | Status: HS, RuleApplied: RA1, EffectsTemp: ET1 >
           < "homeWindow" :Window | Status: WS, RuleApplied: RA2, EffectsTemp: ET2 >
           < "homeThermometer" :Thermometer | Degrees: DG >
           < "homeClock" :Clock | Time: 10 > .


search [1] init =>* INIT:Configuration such that INIT == init .

<<<<<<< HEAD
search [1] < "homeHeater" :Heater | Status: hVeryhot, RuleApplied: no, EffectsTemp: 0.2 >
          < "homeWindow" :Window | Status: open, RuleApplied: no, EffectsTemp: - 0.2 >
=======
search [1] < "homeHeater" :Heater | Status: veryhot, RuleApplied: no, EffectsTemp: 0.2 >
          < "homeWindow" :Window | Status: open, RuleApplied: no, EffectsTemp: -0.2 >
>>>>>>> 5b54c3b713fe92b183010abe4c6b3f4e4cbacaf6
          < "homeThermometer" :Thermometer | Degrees: 20.0 >
          < "homeClock" :Clock | Time: 0 >
           =>*
           < "homeHeater" :Heater | Status: HS, RuleApplied: RA1, EffectsTemp: ET1 >
           < "homeWindow" :Window | Status: WS, RuleApplied: RA2, EffectsTemp: ET2 >
           < "homeThermometer" :Thermometer | Degrees: DG >
           < "homeClock" :Clock | Time: TI >
           such that TI == 0 /\ DG == 20.0 /\ ET1 == 0.2 /\ ET2 == - 0.2
           /\ HS == veryhot /\ WS == open /\ RA1 == no /\ RA2 == no .

search [1] < "homeHeater" :Heater | Status: veryhot, RuleApplied: no, EffectsTemp: 0.2 >
           < "homeWindow" :Window | Status: open, RuleApplied: no, EffectsTemp: -0.2 >
           < "homeThermometer" :Thermometer | Degrees: 20.0 >
           < "homeClock" :Clock | Time: 0 >
            =>*
            < "homeHeater" :Heater | Status: veryhot, RuleApplied: no, EffectsTemp: 0.2 >
            < "homeWindow" :Window | Status: open, RuleApplied: no, EffectsTemp: -0.2 >
            < "homeThermometer" :Thermometer | Degrees: 20.0 >
            < "homeClock" :Clock | Time: 0 > .
